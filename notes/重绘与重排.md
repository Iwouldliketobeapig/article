# 重排与重绘

## 重排
重排一定会造成重绘
### 造成重排的原因
1. 添加或者删除可见的dom元素
2. 元素的尺寸发生改变，边距、填充、宽度、高度、边框
3. 内容发生变化，比如用户在input框输入文字时
4. 浏览器窗口尺寸发生改变时，resize事件发生时
5. 查询某些属性或者调用某些方法
6. 设置style属性时
7. 元素字体大小发生改变
8. 激活某些css伪类
### 如何优化重排
1. 分离读写操作：写操作会导致立马重排，浏览器有收集机制
2. 样式集中改变：通过style和class属性
3. 离线改变dom
  * 隐藏要操作的dom
  * 通过DocumentFargment建立dom碎片，在上面批量建造dom,操作完成后再添加到文档
  * 复制节点在副本上操作它，然后替换它
4. position为absoulte和fixed
5. 优化动画
## 重绘
### 造成重绘的原因
1. 当元素样式的改变不影响它在文档流中的位置时