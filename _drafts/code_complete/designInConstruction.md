# 软件构件中的设计

## 一、设计中的挑战
1. 险恶问题：必须首先把这个问题解决一遍，以便能够明确地定义它，然后再次解决问题，从而形成一个可行的结果
2. 设计师一个无章法的问题：设计过程中会犯错误，且难以判断何时算是足够好
3. 设计就是确定取舍和调整顺序的过程
4. 设计收到诸多限制：一部分创造可能发生的事情，一部分限制可能发生的事情
5. 设计是不确定的：不同的人或场景同一个问题可能有不同的设计结果
6. 设计是一个启发的过程：设计具有一定的探索性
7. 设计师自然而然形成的

## 二、关键的设计概念
### 关键的设计概念
#### 软件的首要使命：管理复杂度
1. 偶然的难题和本质的难题
  * 本质: 本质的属性是一件事物必须具备的，如果不具备就不再是该事物的属性
    * 必须去面对复杂，无序的现实世界
    * 精确而完整地识别出各种依赖关系与例外情况
    * 设计出完全正确而不是大致正确的解决方案
  * 偶然：偶然属性则是一件事物碰巧具有的属性有没有这些属性都并不影响这件事物本身
2. 管理复杂度的重要性
  *  我们不应该试着把整个程序都塞进自己的大脑，而应该试着以某种方式去组织程序，以便能够在一个时刻可以专注于某一个特定部分
  * 可以通过把整个系统分解为多个子系统来降低问题的复杂度
  * 所有软件设计的目标都是把复杂问题分解成简单的部分
3. 如何应对复杂度
  * 根源：
    1. 用复杂的问题解决简单额问题
    2. 用简单但是错误的方法解决复杂的问题
    3. 用不恰当的方法解决复杂的问题
  * 方案
    1. 把任何人在同一时间需要处理的本质复杂度的量减到最少
    2. 不要让偶然性的复杂度无谓的快速增长
`任何其他技术目标都不如管理复杂度重要`
#### 理想的设计特征
1. 最小的复杂度
2. 易维护
3. 松散耦合：通过应用类接口中的合理抽象封装性及信息隐藏规则
4. 可扩展性：能增强系统的功能而无须破坏其底层结构
5. 可重用性
6. 高扇入
7. 低扇出
8. 可移植性
9. 精简性
10. 层次性
11. 标准技术
#### 设计层次
1. 软件系统 ——> 分解为子系统和包 ——> 分解为包中的类 ——> 分解为类中的数据和子程序 ——> 最后是子程序内部
* （1）子系统之间的交互关系
  * 简单：让一个子系统去调用另一个子系统中的子程序
  * 复杂：一个子系统包含另一个子系统中的类
  * 更复杂： 一个子系统继承另一个子系统中的类
* （2）降低依赖性：实质提高系统的可移植性，解耦
* （3）对象与类的区别
  * 对象：具体实体
  * 类：静态事物